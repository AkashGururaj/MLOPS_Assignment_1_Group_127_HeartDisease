<!DOCTYPE html>
<html>
<head>
    <title>API Logs</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h2>API Logs (Last 50)</h2>
    <table>
        <tr>
            <th>Method</th>
            <th>URL</th>
            <th>Status</th>
            <th>Process Time (s)</th>
            <th>Prediction</th>
            <th>Confidence (%)</th>
        </tr>
        {% for log in logs %}
        <tr>
            <td>{{ log.method }}</td>
            <td>{{ log.url }}</td>
            <td>{{ log.status_code }}</td>
            <td>{{ log.process_time }}</td>
            <td>{{ log.prediction if log.prediction is defined else '-' }}</td>
            <td>
                {% if log.confidence is not none %}
                    {{ (log.confidence | float * 100) | round(2) }}
                {% else %}
                    -
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
